# Agentic AI Core (Backend + RN SDK Generator)

This repo is the **source of truth** for the Agentic AI product. It contains:
- **Backend** (FastAPI) with stubs for LLM integration, ranking, and catalog client
- **Contracts** (OpenAPI) for the public API
- **Scripts** to **generate a React Native SDK** on demand from the contract

> Goal: You maintain ONE repo. When your product evolves (e.g., new LLM/ranking logic), just update backend + `contracts/openapi.yaml`, then run the generator script to refresh the SDK for merchants.

---

## Quick Start

### 1) Run Backend (mock/stubbed)
```bash
cd backend
python -m venv .venv && source .venv/bin/activate  # on Windows: .venv\Scripts\activate
pip install -r requirements.txt
./run.sh  # or: uvicorn app.main:app --reload --port 8000
```

API available at: `http://localhost:8000` (OpenAPI UI at `/docs`)

### 2) Generate React Native SDK
Install the OpenAPI generator once:
```bash
npm install -g @openapitools/openapi-generator-cli
```

Then generate:
```bash
./scripts/generate_rn_sdk.sh
```

The SDK will be created in `sdk-react-native/` with a publishable npm package structure.

### 3) (Optional) Publish the SDK to npm
Edit `sdk-react-native/package.json` (name, version, author), then:
```bash
cd sdk-react-native
npm publish --access public   # or --access restricted for private scopes
```

### 4) Merchant Integration (React Native)
```ts
import { AgenticAIClient } from "@aeroshop/agentic-ai-sdk"; // or local path

const client = new AgenticAIClient("https://api.aeroshop.ai", "YOUR_API_KEY");

const res = await client.search({ query: "vegan snacks under 20 AED" });
console.log(res.results);
```

---

## Repo Layout
```
agentic-ai-core/
 ├── backend/
 │    ├── app/
 │    │    ├── main.py
 │    │    ├── routers/
 │    │    │    └── search.py
 │    │    └── services/
 │    │         ├── llm.py
 │    │         ├── ranker.py
 │    │         └── catalog_client.py
 │    ├── requirements.txt
 │    └── run.sh
 ├── contracts/
 │    └── openapi.yaml
 ├── scripts/
 │    ├── generate_rn_sdk.sh
 │    └── publish_rn_sdk.sh
 ├── sdk-react-native/   # generated by script
 └── README.md
```

---

## Notes
- The backend uses simple mocks; replace `services/*` with your production implementations (LLM, vector DB, retrieval).
- The RN SDK is generated via `typescript-fetch` which works out of the box in React Native.
- Keep `contracts/openapi.yaml` updated as you add endpoints.
